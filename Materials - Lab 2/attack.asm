global _start

section .text
_start:
	xor eax, eax
	push 0x00000000 ; PUSH 0x00000000 which is equivalent to NULL

	push [//bin/ls]; PUSH //bin/ls

	mov ebx, [esp]; EBX points to //bin/ls which is located at the top of the stack (ESP)
	; This refers to the first parameter of execve

	push 0x00000000 ; PUSH 0x00000000 =NULL.

	mov edx, [esp]; EDX points to NULL which is located at the top of the stack (ESP)
	; This refers to the third parameter

	; PUSH address of //bin/ls on the stack (recall that EBX is pointing to this address)

	mov ecx, [bin]; ECX points to address of //bin/ls. This refers to the second parameter

	; execve is executed. Recall that EAX is reserved for system call

	;Execution is performed
	int 0x80
